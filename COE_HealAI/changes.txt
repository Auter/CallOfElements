================================================================================
CALL OF ELEMENTS - HEALAI FORK - CHANGELOG
================================================================================

v3.10.0 - SuperWoW QoL Features: Totem Range Overview & Tank Distance Hint
---------------------------------------------------------------------------
NEW: Two informational SuperWoW-powered features (require UnitPosition API):

1. Totem Range Overview Panel (Raid tab checkbox)
   - Shows how many group members are within 20y of your active totems
   - Per-element display: Earth: 3/5, Fire: 4/5, etc.
   - Color-coded: green (all in range), yellow (some), red (few)
   - Movable panel, position saved in SavedVariables
   - Checkbox: "Show totem range overview" in Raid tab

2. Tank Distance Hint (Core tab checkbox)
   - Shows distance to configured tank/off-tank
   - Color-coded: green (<=30y), yellow (30-38y), red (>38y)
   - Movable frame, position saved in SavedVariables
   - Checkbox: "Show tank distance hint" in Core tab

Both features:
- Are purely informational (no automation, no behavior changes)
- Degrade gracefully if SuperWoW/UnitPosition unavailable
- Have small grey "Requires SuperWoW (UnitPosition)" notes in UI
- Do NOT interfere with existing HealAI logic or totem behavior

v3.9.1 - Chain Heal Anchor Selection: Lowest HP Priority
------------------------------------------------------------------------
- BREAKING: Chain Heal auto-selection now requires SuperWoW's UnitPosition API
- Without UnitPosition, HealAI will NOT auto-cast Chain Heal (falls back to
  single-target heals). You can still cast Chain Heal manually.
- Replaced all UnitXYZ-based distance code with UnitPosition (2D coordinates)
- Clustering logic now correctly measures distance from the PRIMARY TARGET,
  not from the player position. This matches how Chain Heal actually bounces.
- Added /coe superwow command to test detection and show available APIs
- UI shows clear status: "SuperWoW position API detected" or warning note
- Comprehensive debug output with /coe debug shows exact distances and decisions
- Fixed threshold comparison: units at exactly the threshold % now count as injured

v3.6.0 - HealAI Rename & Documentation
----------------------------------------
- Renamed healing module from "HealBrain" to "HealAI" throughout
- Updated all user-facing UI labels, keybind names, and documentation
- Internal SavedVariable keys (HB_*) retained for backwards compatibility
- Comprehensive readme rewrite with accurate feature documentation
- Cleaned up changelog, removed outdated WIP references

v3.5.2 - Anti-Spam Bypass for Spam Mode
----------------------------------------
- Anti-spam penalty now correctly bypassed in spam/maintenance mode
- Added isSpamMode parameter to DetermineHealTarget()
- Spam mode allows repeated heals on same target without hesitation
- Unreachable unit penalty remains active in all modes

v3.5.1 - Out-of-Range Fallback Fix
----------------------------------------
- Fixed critical bug where one out-of-range target could brick all healing
- DetermineHealTarget() now returns sorted list of ALL candidates
- Heal functions iterate through candidates until one passes range check
- Added unreachable unit tracking with 3-second penalty window
- Units that fail CanReachForCast() are deprioritized on subsequent presses

v3.5.0 - Tank Priority & Anti-Spam Improvements
----------------------------------------
- Tank priority is now a bias, not absolute lock
- Non-tanks with significantly lower HP (20%+ difference) override tank priority
- Non-tanks below emergency threshold always override tank priority
- Chain Heal skipped when Tank Emergency Override is triggered
- Dead/ghost/offline units properly skipped in all heal modes
- Anti-spam logic prevents double-healing same target when spamming
- Improved pet detection for "Ignore pets" setting

v3.4.1 - Final Range Check Fix
----------------------------------------
- Added CanReachForCast() as authoritative Blizzard API range check
- Final range check uses CheckInteractDistance() before any cast
- Self-casts no longer happen when intended target is out of range
- Range check added to BestHeal, DoSpamHeal, Dispel, and CastChainHeal

v3.4.0 - SuperWoW Range/LoS Bug Fix + Tank Emergency Override
----------------------------------------
- Fixed SuperWoW returning garbage distance data (45000+ yards)
- Added 200-yard sanity clamp for range checks
- Three-state reachability: true (reachable), false (unreachable), nil (unknown)
- Removed unreachable fallback table - unreachable units are skipped entirely
- Added Tank Emergency Override feature with configurable threshold
- Tank emergency can optionally bypass HealComm incoming heal checks

v3.3.0 - Casting Fix & Keybind Cleanup
----------------------------------------
- Fixed Vanilla 1.12 spell targeting bug (heals landing on self)
- Uses TargetUnit() before CastSpell() for correct target
- Cleaned up keybind system in Bindings.xml
- Added UI tooltips for all settings

v3.2.0 - SuperWoW Integration & Dispel Throttle
----------------------------------------
- SuperWoW range and LoS checking with safe fallback
- Dispel throttle system to prevent dispel spam
- Conservative HealComm overheal cancellation
- Fixed COETooltip error

v3.1.0 - HealComm Integration & Chain Heal
----------------------------------------
- HealComm-1.0 integration for incoming heal awareness
- Group-based Chain Heal logic (bounces within same party only)
- Configurable minimum targets for Chain Heal

v3.0.0 - HealAI Core Implementation
----------------------------------------
- Complete smart healing decision engine
- Tank priority with main tank and off-tank support
- Target-of-Target fallback when no tank names configured
- Emergency threshold for fast heal switching
- Top-up threshold to avoid overhealing
- Spam mode for maintenance healing
- Dispel integration with HP gate

================================================================================
ORIGINAL CALL OF ELEMENTS CHANGELOG (Pre-fork)
================================================================================

v2.8
- Various fixes

v2.7
- Save positions
- ruRU localization

v2.6
- Korean localization
- Performance upgrades (memory leak fixes)
- Fixed disappearing element frames

v2.5
- Chinese (simplified) localization
- Totem sets for named targets
- Tremor totem advisor additions
- CTRL-click to change anchor totem

v2.4
- Enamored Water Spirit trinket support
- French localization
- Lag-dependent timer activation
- Various fixes

v2.3
- /coe priorset command
- Option for timer frame only display
- PVP auto-switch improvements

v2.2
- Basic healing module added
- Totem advisor improvements

v2.1
- Flex/Closed mode improvements
- Separate timer frame option
- Scaling option

v1.8
- Cooldown display in red digits
- Set restart functionality
- Removed totem bar backdrop

v1.7
- Bar position locking
- Customizable totem ordering
- Shell command list

v1.6
- Tremor totem advisor additions
- Tooltip disable option

v1.5
- Customize mode with bar configuration
- Button alignment options

v1.4
- Seventh air totem button added
